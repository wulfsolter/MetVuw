<ion-navbar *navbar>
  <ion-title><center>MetVuw - {{forecast.label}}</center></ion-title>
</ion-navbar>

<ion-content>
  <div class="forecastImages">
    <div class="forecastSpinner">
      <img src="img/sunny.gif" width="100%">
    </div>
    <div class="forecastMain">
      <img (swipeLeft)="next()" (swipeRight)="prev()" (click)="next()" src="http://metvuw.com/forecast/{{imgPath}}">
    </div>
  </div>
  <rain-scale></rain-scale>

  <ion-row>
    <ion-col>
      <button large full (click)="prev()"><icon arrow-back></icon>Prev</button>
    </ion-col>
    <ion-col>
      <div style="text-align:center">
        <h2 style="margin-bottom:0;">{{(pointer - nowPointerOffset)}}</h2>
        Hours<br>future
      </div>
    </ion-col>
    <ion-col>
      <button large full (click)="next()">Next<icon arrow-forward></icon></button>
    </ion-col>
  </ion-row>

  <ion-row>
    <ion-col>
      <input id="slider1" type="range" min="{{pointerMinimum}}" max="{{sliderMax}}" step="6" [value]="pointer" (change)="set($event)" style="width:100%" />
    </ion-col>
  </ion-row>

  <ion-row>
    <ion-col>
      <!-- nexted in row/col to have same padding as prev/next buttons -->
      <button full [attr.style]="playing ? 'background:green' : ''" (click)="autoPlay()">Loop Play next 48hrs</button>
    </ion-col>
  </ion-row>

<!-- Prefetch images - hidden with CSS but loaded in advance -->
  <div class="img-lookahead">
    <img class="img-lookahead" src="http://metvuw.com/forecast/{{imgPrefetch1}}">
    <img class="img-lookahead" src="http://metvuw.com/forecast/{{imgPrefetch2}}">
    <img class="img-lookahead" src="http://metvuw.com/forecast/{{imgPrefetch3}}">
  </div>

</ion-content>
